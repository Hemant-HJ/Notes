# Hashing in Node

A one-way process of transforming sensitive data (like passwords) into a fixed-length string of characters. This makes it impossible to reverse engineer the original password, enhancing security. You compare the hash of the entered password with the stored hash, not the passwords themselves.

## Advantages

* Way hard to reverse engineer the password
* Protecting during data breaches.
* Best practices

## Libraries for Hashing in Node

* `argon2` - A modern, highly secure **key derivation function (KDF)** designed specifically for password hashing. It's built to resist various attacks, particularly those using specialized hardware like GPUs.
* `bcryptjs` - It is a pure JavaScript implementation of the bcrypt password hashing algorithm. It allows you to securely hash and verify user passwords in your Node.js/Express backend (and even in browsers, though server-side hashing is highly recommended for security).

## `bcryptjs` vs `argon2`

`bcryptjs` is the **traditional** way of hashing the password which is still widely used over the internet. Whereas `argon2` is relatively **new and strong** hashing algorithm that is able to defend against the modern attacks. `argon2` provides various attributes that can be easily customized by the user to generate a more secure hash.

However, `bcrypt` is often easier to implement and has wider long-standing support. For many standard web applications, `bcrypt` provides sufficient and robust password security. For high-security applications or those expecting extremely sophisticated attacks, `argon2` might be preferred.

## `argon2`

Code :

```js
import * as argon2 from "argon2";

async function hashPassword() {
  const password = "mySecretPass";
  try {
    const hashedPassword = await argon2.hash(password, {
      type: argon2.argon2id,
    });
    console.log(hashedPassword);
  } catch (error) {
    console.log(error);
  }
}

hashPassword();

```

---

Output :

```shell
$argon2id$v=19$m=65536,t=3,p=4$5ykLjdVOXrUxORXd6p7kqA$y2IrG/CRDOvjTdENXwIJ+CLII0OJYy3tvReIQt7EkXg
```

---

Explanation :

* We use the `hash()` method to create the hash of the password.
* `hash()` method take 2 arguments:-

  * `password` - The password to be hashed.
  * `option` - An option object specifying the different options that are to be used while hashing the password. `argon2` offers various options that could be provided like:-

    * `type` : Specify which variant of argon to be used while hashing. Enum values can be provided like `argon2.argon2i`, `argon2.argon2d`, `argon2.argon2id`

    * `memoryCost` : Specifies the amount of memory (in kilobytes, KiB) that Argon2 will use during the hashing process.

    * `timeCost` : The number of iterations or passes over the memory array. This controls the computational time complexity.

    * `parallelism` : The degree of parallelism, also referred to as "lanes" or "threads." It specifies how many independent Argon2 computations can be performed concurrently.

    * `saltLength` : The desired length of the randomly generated salt in bytes.

    * `hashLength` : The desired length of the output hash (the derived key) in bytes.

* The default value of the option are powerful enough to generate a complex hash for the numbers.

Every time we run the program a different hash will be generated. So it is not possible to have two similar hash for a given password no matter how many times a program is ran due to the presence of random salt that is automatically generated by argon algorithm.

```js
for (let index = 0; index < 4; index++) {
  hashPassword();
}
```

```shell
$argon2id$v=19$m=65536,t=3,p=4$oKEA1UQh1hagRiX+uOBieQ$kU3bFIwnp4HT4KvQUtJuLG21blZcVa/6jKjGkpBUgwc
$argon2id$v=19$m=65536,t=3,p=4$0eDrGdXBL6mSm02u4+LV7w$2phOFRehmerAq0f9STM4/AZpU25Fyfj2gWSadKR88pY
$argon2id$v=19$m=65536,t=3,p=4$JaBM3p3qy2UhxgzIoPTHfQ$YvsxUZWUNSJGytuFYYbxwmnZ9BOpB8m5ISxsGd3q/aI
$argon2id$v=19$m=65536,t=3,p=4$cy8vzNPbGB0AlZ9tO44qOQ$OAlrgxTQFZK4FSxKKijyyZyeNOoytXDXCmcddC5Hys8
```

---
